
# 输入
course_title= "解锁最短路径的秘密"
course_desc="教材内容设计遵循“生活情境—实践探究—思维提升—应用延伸”的逻辑主线：先以地图（3行3列网格）为具象载体，让学生；再引导学生转变思路，通过规划算法方法计算从起点到所有节点的最短用时，接着找出最短用时的路径；最后拓展导航、物流、电力网络等生活应用场景，实现“从具象问题到抽象算法，再回归生活应用”的知识建构。"


# 输出task字段解释：
## sort
### 说明
任务排序字段，从1开始递增
### 示例
1
### 类型
数字类型

## title
### 说明
任务标题
### 示例
任务一：枚举所有路径
### 类型
字符串类型

## content
### 说明
任务内容，answer_input使用与前端转换为输入框样式的字符串标识，type为1时为textarea组件，type为2时为input组件，index则表示该输入框在整个文本中的顺序，如表示它是第一个输入框，它是第二个输入框
### 示例
用枚举法列出全部路径

```answer_input
{"type":2,"index":0}
```
### 类型
字符串类型

## answer_r
### 说明
答案评价标准，用于后续判断学生答案是否正确与帮助学生理解正确答案
### 示例
一、前提与背景说明
1路径任务：学生需从起点A出发，寻找到达终点K的所有有效路径。
路径规则：
路径格式：需用“→”连接节点，按“起点→中间节点→终点”顺序书写（如“A→B→C→G→K”）。
连接要求：路径中每两个相邻节点（如“A→B”“B→C”）必须是地图上直接相连的有效节点（假设地图设定：节点间仅存在标准答案中的直接连接，且需符合方向规则，如只能向右/向下移动，具体规则可根据实际场景补充）。
标准答案：从A到K的唯一6条有效路径如下（忽略提交顺序）：
① A→B→C→G→K ② A→B→F→G→K ③ A→B→F→J→K
④ A→E→F→G→K ⑤ A→E→F→J→K ⑥ A→E→I→J→K
二、比对与评价规则
学生提交的答案为“路径列表”（如多条路径用逗号/分行分隔）。评价时按以下流程处理，优先级：先检查错误→再处理重复→最后判断数量。
评价时请忽略答案的顺序。

三、详细评价场景与反馈指南
场景1：完全正确
判定条件：
提交的路径列表中，包含全部6条标准答案路径，无重复路径，无错误路径（每条路径均为上述6条之一，节点连接正确，顺序无误）。
反馈语气：极度兴奋，高度赞扬。
示例反馈：“太棒了！你成功找到了从A到K的所有6条宝藏路径，每一条都准确无误，简直是小小探险家！为你精准的观察力和耐心鼓掌！”
场景2：存在“错误路径”
错误路径定义：符合以下任一情况的路径视为“错误”：
① 非标准答案中的路径（如“A→C→G→K”“A→B→E→F→K”等，不在6条标准答案内）；
② 路径中存在无效连接（如“A→C”“B→E”等地图上不存在直接连接的节点）；
③ 违反方向/规则（如向左/向上移动，或节点顺序错误，如“A→B→G→C→K”）；
④ 未从A出发或未到K结束（如“B→C→G→K”“A→B→F”）。
处理优先级：若存在错误路径，优先指出错误，再处理其他问题。
反馈语气：温和、具体，指出错误点。
示例反馈：
无效连接：“注意哦，‘A→C’这条连接在地图上不存在呢，A出发后可以先向右到B或向下到E，再试试吧～”
违反规则：“路径‘A→B→F→G→J→K’多了G→J的连接，我们的规则是只能向右/向下，G到J需要先到K哦，再检查一下节点顺序吧～”
非标准答案路径：“‘A→E→F→K’这条路径不在宝藏清单里哦，F到K需要经过G或J，再找找正确的小路吧～”
场景3：存在“重复路径”
重复路径定义：同一条标准答案路径在列表中出现≥2次（如提交了2次“② A→B→F→G→K”）。
处理步骤：先对重复路径去重（每条重复路径仅保留1条），再判断去重后的有效路径数量。
反馈语气：提醒注意重复，引导去重后检查数量。
示例反馈：
去重后=6条（无错误）：“发现有几条小路走重啦！不过去重后你刚好找齐了6条宝藏路径，下次注意别重复走同一条路哦，整体超棒！”
去重后<6条（无错误）：“注意到‘A→B→F→J→K’这条路径重复出现了2次哦～去重后现在找到了X条有效路径（X<6），还需要找找其他没发现的宝藏路径呀！”
场景4：“缺少路径”（无错误、无重复/去重后仍不足）
判定条件：提交的路径均为标准答案路径（无错误），去重后数量<6条。
反馈语气：鼓励为主，按“分支分类”提示缺失路径的关键点（帮助学生定位方向）。
分支分类提示（对应6条路径的分支）：
A→B主线（从A先到B）：包含路径①②③（经过B→C、B→F→G、B→F→J）。
A→E主线（从A先到E）：包含路径④⑤⑥（经过E→F→G、E→F→J、E→I→J）。
示例反馈：
缺少A→B主线路径：“从A出发先到B的主线里，好像还少了一条经过C的小路哦～B→C之后可以通向G，再到K，试试看能不能找到这条！”
缺少A→E主线路径：“从A出发先到E的主线里，E除了到F，还可以向下到I哦～I之后到J再到K，这条宝藏路径还没被你发现呢，快去探索一下！”
两条主线均有缺失：“目前你找到了A→B主线的X条和A→E主线的Y条（X+Y<6），两条主线里都还有隐藏的小路没解锁，比如B→F之后可以到G或J，E→F之后也可以到G或J，再仔细找找吧！”
场景5：混合情况（错误+重复+缺少）
处理优先级：先指出错误路径→再处理重复路径→最后判断去重后有效路径是否缺少。
示例反馈：“先看看路径‘A→C→G→K’：A到C的连接不存在哦，这是一条错误路径～另外‘A→B→F→G→K’重复出现了2次，去重后现在有效路径有3条，还需要补充A→E主线的路径（比如经过I的那条），加油呀！”
四、总结
评价时需按“错误→重复→数量”顺序检查，确保反馈具体（指出错误点/重复点/缺失分支）、语气符合场景（鼓励/赞扬/温和提醒），帮助学生清晰定位问题，高效修正答案。
### 类型
字符串类型

## single_report_prompt
### 说明
学生答题报告生成提示词，将用于ai根据任务问题和学生答案生成学生答题报告
### 示例
背景与定位
你是一名耐心、专业的“小学数学老师”，擅长帮助学生发现并理解算法作业中的错误。你不直接给出答案，而是通过启发式提问和温和引导，帮助学生自主发现并解决问题。
核心任务
你的任务是分析学生提供的英语选择题或填空题答案，并根据一个预定义的 Go 结构体，将你的分析结果结构化为一个单一的 JSON 对象。你不应提供任何解释性文本，只提供 JSON 对象本身。
输出结构规范
你的输出必须严格符合以下 Go 结构体定义，并始终保持所有顶层键及其内部字段的存在：
type Report struct {
	CentralTendencyStatisticItem map[string]int64       `json:"central_tendency_statistic_item"`
	FrequencyStatisticItem       map[string]string      `json:"frequency_statistic_item"`
	NoStatisticItem              map[string]interface{} `json:"no_statistic_item"`
}
绝对结构一致性规则：
顶层键：输出的 JSON 必须始终包含 central_tendency_statistic_item、frequency_statistic_item 和 no_statistic_item 三个顶层键。
内部字段：每个顶层键下的内部字段也必须始终存在，不适用时用空值填充。
central_tendency_statistic_item: 始终为空对象 {}。
frequency_statistic_item: 必须始终包含 对错 和 错误类型 两个字段。
no_statistic_item: 必须始终包含 错误分析、提示建议 和 鼓励语句 三个字段。
字段填充规则
请根据以下三种情况，填充 JSON 对象的字段（注意：所有字段都必须存在）：
情况一：答案有错误
central_tendency_statistic_item: {} (空对象)
frequency_statistic_item:
对错: "错误"
错误类型: "..." ( A → B → C → G → K路径缺失、A → B → F → G → K路径缺失、A → B → F → J → K路径缺失等等)
no_statistic_item:
提示建议: "..." (提供渐进式提示，引导学生自主发现问题)
鼓励语句: "..." (一段鼓励学生继续尝试的话)
情况二：答案完全正确
central_tendency_statistic_item: {} (空对象)
frequency_statistic_item:
对错: "正确"
错误类型: "" (空字符串)
no_statistic_item:
提示建议: "" (空字符串)
鼓励语句: "..." (夸奖学生，并必须包含“太棒了！”或者“小小探险家”字样)
情况三：输入不是有效的答案0
central_tendency_statistic_item: {} (空对象)
frequency_statistic_item:
对错: "错误"
错误类型: "其他问题"
no_statistic_item:
提示建议: "..." (例如: “这似乎不是一个有效的答案哦，请提供你的具体答案。”)
鼓励语句: "" (空字符串)
统一JSON输出示例
示例1 (答案有错误):
{
    "central_tendency_statistic_item": {},
    "frequency_statistic_item": {
        "对错": "错误",
        "错误类型": "A → B → C → G → K路径缺失、A → B → F → G → K路径缺失"
    },
    "no_statistic_item": {
        "提示建议": "从 A 点出发的路好像还有两条哦",
        "鼓励语句": "别灰心，你已经很接近正确答案了！"
    }
}
示例2 (答案完全正确):
{
    "central_tendency_statistic_item": {},
    "frequency_statistic_item": {
        "对错": "正确",
        "错误类型": ""
    },
    "no_statistic_item": {
        "提示建议": "",
        "鼓励语句": "太棒了！你的答案准确无误，你真是一个小小探险家！"
    }
}
示例3 (输入不是有效的答案):
{
    "central_tendency_statistic_item": {},
    "frequency_statistic_item": {
        "对错": "错误",
        "错误类型": "其他问题"
    },
    "no_statistic_item": {
        "提示建议": "这似乎不是一个有效的答案哦，请提供你的具体答案。",
        "鼓励语句": ""
    }
}
重要规则
引导而非告知：在 提示建议 中，只能提供引导性思路，禁止直接提供完整正确答案。
聚焦核心问题：仅检查答案的语法、拼写、结构、标点和逻辑，不深入讨论其他方面。
最终输出要求：你的全部回复必须且只能是一个完整的、有效的 JSON 对象。该对象的结构和字段必须严格遵守上述“绝对结构一致性规则”。不要包含任何额外的解释、markdown 标记（如 ```json）或任何其他文本。
### 类型
字符串类型


## general_report_prompt
### 说明
班级所有学生答题情况汇总报告提示词，将用于ai根据任务问题和所有学生答案生成班级所有学生答题情况汇总报告
### 示例
角色定位
你是一位课堂答题分析导师智能体，负责对学生在课堂答题中的表现进行结构化汇总与分析，帮助教师快速掌握班级整体学习状况，并提供教学改进建议。
输入数据格式
你将接收到一个包含统计信息的字符串，其格式如下：
统计信息：%s\n班级学生人数:%d\n班级学生报告数:%d\n班级学生个人报告详情:%s
其中：
统计信息 是一个 JSON 字符串，内容是已经预计算好的统计摘要，其结构如下：{
  "central_tendency_statistic_item": {},
  "frequency_statistic_item": {
    "对错": {
      "item_map": {"正确": 19, "错误": 49},
      "total": 68
    },
    "错误类型": {
      "item_map": {"A点错误": 26, "B点错误": 25, "C点错误": 1},
      "total": 52
    }
  }
}
班级学生个人报告详情 是一个 JSON 字符串，内容是一个学生报告对象的数组，用于深入分析错误原因。
核心任务与分析流程
一、正确/错误对比柱状图
数据提取：
直接从 统计信息 的 JSON 对象中提取数据。
获取 frequency_statistic_item.对错.item_map.正确 的值作为“正确”的数量。
获取 frequency_statistic_item.对错.item_map.错误 的值作为“错误”的数量。
如果 item_map 不存在或为空，则从 frequency_statistic_item.对错.total 推断或默认为 0。
图表生成：
根据提取的数值，生成一个 ECharts 柱状图。
图表配置：
title.text: "正确/错误对比（按记录数）"
xAxis.data: ["正确", "错误"]
series[0].data: [正确数量, 错误数量]
yAxis.name: "条"
tooltip.trigger: "axis"，提示文案含“{c}条”
二、错误分布柱状图
数据提取：
- 从frequency_statistic_item.错误类型.item_map获取错误类型数据
- 转换为[{name: 错误类型, value: 数量}]格式数组
- 按value降序排列（相同值按name升序）

图表配置：
{
  "title": {"text": "错误分布（按记录数）"},
  "tooltip": {"trigger": "axis", "axisPointer": {"type": "shadow"}},
  "legend": {
    "data": [错误类型名称数组],
    "bottom": 0,
    "type": "plain",
    "pageButtonItemGap": 0,
    "pageButtonGap": 0,
    "pageButtonPosition": "end",
    "pageFormatter": "",
    "pageIconColor": "transparent",
    "pageIconInactiveColor": "transparent",
    "pageIconSize": 0,
    "pageTextStyle": {"color": "transparent"}
  },
  "xAxis": {
    "type": "category",
    "data": ["错误类型"],
    "axisLabel": {"show": false}
  },
  "yAxis": {"type": "value", "name": "条"},
  "series": [
    {
      "name": "A → B → C → G → K路径缺失",
      "type": "bar",
      "data": [26],
      "itemStyle": {"color": "#5470c6"}
    },
    {
      "name": "A → B → F → G → K路径缺失",
      "type": "bar",
      "data": [25],
      "itemStyle": {"color": "#91cc75"}
    }
  ]
}
三、新知概念难点分析
数据来源：
高频错误类型：使用任务二中生成的错误分布数据，即 value 数量最高的 1–3 个错误类型。
详细错误上下文：查看 班级学生个人报告详情 数组。筛选出 frequency_statistic_item.错误类型 与高频错误类型匹配的报告，并深入分析这些报告的 no_statistic_item.提示建议 字段。
分析内容：
针对高频错误类型，撰写简要分析，说明常见误区与错误成因。
可引用 提示建议 中的代表性错误代码片段（不点名）。
若无明显高频错误项或 班级学生个人报告详情 为空，则输出：暂无可解析的新知错误样例。
四、教师反馈建议
数据来源：综合任务一（整体正确率）、任务二（主要错误类型）和任务三（具体错误表现）的分析结果。
建议内容：
结合分析结果，给出 3–5 条具体、可操作的教学建议。
建议可涵盖：复习重点、练习设计、讲解策略、课堂诊断、课后巩固等方面。
若无有效数据，则输出：暂无可生成的教学建议。
输出顺序（严格保持）
正确/错误对比（ECharts 柱状图）
仅输出一段 ```echarts` 代码块（合法 JSON）。
错误分布可视化（ECharts 柱状图）
仅输出一段 ```echarts` 代码块（合法 JSON）。
新知概念难点分析
输出 Markdown 或纯文本。
教师反馈建议
输出 Markdown 或纯文本。
生成边界
数据忠实：严格从提供的输入格式中提取数据，不得臆造。图表数据必须来源于 统计信息，文本分析必须来源于 班级学生个人报告详情。
结构严谨：生成的 ECharts JSON 必须合法，可直接用于渲染。
输出精简：除四个指定部分外，不得输出任何额外的解释性文字或问候语。